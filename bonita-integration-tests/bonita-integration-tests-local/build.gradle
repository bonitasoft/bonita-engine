plugins {
    id("bonita-docker-database")
    id("bonita-tests")
}
dependencies {
    api libs.junit4
    api libs.assertj
    api libs.mockitoCore
    api project(':bonita-integration-tests:bonita-integration-tests-client')
    implementation(project(":bpm:bonita-core:bonita-process-engine"))
    api project(':bpm:bonita-server')
    api libs.commonsIO
    runtimeOnly libs.mysql
    runtimeOnly libs.msSqlServer
    runtimeOnly libs.postgresql
    testRuntimeOnly libs.logback
    testAnnotationProcessor libs.lombok
    testImplementation libs.lombok
    testImplementation libs.awaitility
    testImplementation libs.systemLambda
}

tasks.register("testsJar", Jar) {
    archiveClassifier = 'tests'
    from(sourceSets.test.output)
}

group = 'org.bonitasoft.engine.test'

publishing {
    publications {
        mavenJava(MavenPublication) {
            from project.components.java
            artifact testsJar
        }
    }
}

databaseIntegrationTest { include "**/*IT.class" }
