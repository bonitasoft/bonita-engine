plugins { id 'bonita-docker-database' }

dependencies {
    compile "junit:junit:${Deps.junit4Version}"
    compile "org.assertj:assertj-core:${Deps.assertjVersion}"
    compile project(':bonita-integration-tests:bonita-integration-tests-client')
    compile project(':bpm:bonita-server')
    compile 'commons-collections:commons-collections:3.2.1'
    compile project(':bonita-integration-tests:bonita-test-utils:bonita-server-test-utils')
    compile "mysql:mysql-connector-java:${Deps.mysqlVersion}"
    compile "com.microsoft.sqlserver:mssql-jdbc:${Deps.mssqlVersion}"
    compile "org.postgresql:postgresql:${Deps.postgresqlVersion}"
}

task testsJar(type: Jar) {
    classifier = 'tests'
    from(sourceSets.test.output)
}

group = 'org.bonitasoft.engine.test'

publishing {
    publications {
        mavenJava(MavenPublication) {
            from project.components.java
            artifact testsJar
        }
    }
}

tests {
    testPattern = ""
    integrationTestsSuite = "org/bonitasoft/engine/LocalIntegrationTests.class"
    slowTestsSuite = "org/bonitasoft/engine/LocalIntegrationTests.class"
}

databaseIntegrationTest { include 'org/bonitasoft/engine/SlowExecutionLocalIntegrationTests.class' }
