<project name="bonita-engine-home" default="build-home">

    <property name="target.dir" value="${basedir}/target" />
    <property name="resources.dir" value="${basedir}/src/main/resources" />
    <property name="bh.dir" value="${target.dir}/bonita-home" />

    <target name="build-home">
        <delete dir="${bh.dir}" />

        <!-- ENGINE CLIENT WORK -->

        <copy todir="${bh.dir}/engine-client/work">
            <fileset dir="${resources.dir}">
                <include name="bonita-client-community.properties" />
            </fileset>
        </copy>

        <!-- ENGINE CLIENT CONF -->
        <copy file="${resources.dir}/bonita-client-community.properties" tofile="${bh.dir}/engine-client/conf/bonita-client-custom.properties">
            <filterchain>
                <filterreader classname="org.apache.tools.ant.filters.PrefixLines">
                    <param name="prefix" value="#" />
                </filterreader>
            </filterchain>
        </copy>

        <!-- ENGINE SERVER -->


        <copy todir="${bh.dir}/engine-server/work/platform">
            <fileset dir="${target.dir}">
                <include name="VERSION" />
            </fileset>
        </copy>

        <copy todir="${bh.dir}">
            <fileset dir="${resources.dir}">
                <include name="README.md" />
            </fileset>
        </copy>

    </target>

</project>